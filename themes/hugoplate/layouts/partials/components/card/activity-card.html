{{ with .Params.activity }}

{{ $logoStr := .logo }}
{{ $logo := printf "%s" (substr $logoStr 1) }}
{{ $imageStr := .image }}
{{ $image := printf "%s" (substr $imageStr 1) }}

<div class="min-h-[300px] max-w-sm relative group rounded-2xl overflow-hidden shadow-2xl cursor-pointer
            transform hover:scale-105 hover:-translate-y-2 hover:shadow-3xl
            transition-all duration-500 ease-out animate-fade-in-up"
     onclick="window.location.href='{{ $.Page.RelPermalink }}'">

  <!-- Background image with subtle overlay -->
  <div class="absolute inset-0 bg-cover bg-center transition-all duration-500 
              group-hover:opacity-0 group-hover:scale-110"
       style="background-image: url('{{ $image | absURL }}');">
    <div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"></div>
  </div>

  <!-- Content overlay with modern design -->
  <div class="absolute inset-0 bg-gradient-to-br from-white via-white to-gray-50/95
              backdrop-blur-xl rounded-2xl p-8 flex flex-col justify-between 
              opacity-0 group-hover:opacity-100 transition-all duration-500 
              transform translate-y-4 group-hover:translate-y-0 z-20">

    <!-- Title with gradient -->
    <div class="text-center mb-6">
      <h4 class="text-2xl font-bold mb-3 bg-gradient-to-r from-gray-800 to-primary 
                 bg-clip-text text-transparent animate-slide-in-down">
        {{ .name | markdownify }}
      </h4>
      <div class="w-16 h-1 bg-gradient-to-r from-primary to-light rounded-full 
                  mx-auto transform scale-0 group-hover:scale-100 
                  transition-transform duration-300 delay-100"></div>
    </div>

    <!-- Description -->
    <div class="text-center">
      <p class="text-gray-700 leading-relaxed animate-slide-in-up opacity-0 group-hover:opacity-100 
                transition-all duration-300 delay-200">
        {{ .description | truncate 200 | safeHTML | markdownify }}
      </p>
    </div>
  </div>

<!-- Logo overlay at top-left -->
<div class="absolute top-4 left-4 z-10">
  <div class=" backdrop-blur-xl rounded-full p-4 shadow-2xl 
              flex items-center justify-center transform transition-all duration-500 ease-out animate-float"
       style="width: 120px; height: 120px;">

    <!-- Gentle glow effect -->
    <div class="absolute inset-0 rounded-full bg-primary/10 opacity-0 
                group-hover:opacity-100 transition-all duration-500 
                group-hover:scale-110"></div>

    {{ partial "image" (dict "Src" $logo "Alt" "Activity logo" "Loading" "eager" 
       "Class" "w-[80px] h-[80px] object-contain") }}
  </div>
</div>

  <!-- Modern corner accent -->
  <div class="absolute top-4 right-4 w-2 h-2 bg-primary/60 rounded-full 
              opacity-0 group-hover:opacity-100 animate-pulse 
              transition-opacity duration-500 delay-400 z-30"></div>

  <!-- Bottom accent line -->
  <div class="absolute bottom-0 left-0 w-0 h-1 bg-gradient-to-r from-primary to-light 
              group-hover:w-full transition-all duration-500 delay-200 z-30"></div>
</div>

<style>
  @keyframes fade-in-up { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
  @keyframes slide-in-down { 0% { opacity: 0; transform: translateY(-10px); } 100% { opacity: 1; transform: translateY(0); } }
  @keyframes slide-in-up { 0% { opacity: 0; transform: translateY(10px); } 100% { opacity: 1; transform: translateY(0); } }
  @keyframes float { 0%,100% { transform: translateY(0px); } 50% { transform: translateY(-3px); } }

  .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
  .animate-slide-in-down { animation: slide-in-down 0.4s ease-out forwards; }
  .animate-slide-in-up { animation: slide-in-up 0.4s ease-out forwards; }
  .animate-float { animation: float 2s ease-in-out infinite; }
  .shadow-3xl { box-shadow: 0 35px 60px -12px rgba(0,0,0,0.25); }
  .backdrop-blur-xl { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); }
</style>

{{ end }}